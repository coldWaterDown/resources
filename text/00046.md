# Объектно-ориентированное программирование

### Введение

Вы научились делать кирпичики в виде блоков кода Ruby, прекрасно! Теперь нас ждет интересное занятие... как объединить эти кирпичики наиболее эффективным и элегантным способом, чтобы получить на выходе нужную нам программу?

Концепции ООП, о которых вы здесь прочтете, не так сильно относятся к самому Ruby, сколько вообще к любому объектно-ориентированному языку программирования. И это потому, что они, скажем так... фундаментальны. Не повторяйтесь в коде. Делайте его модульным. Классы и методы должны быть предназначены для решения только одной задачи. Интерфейс вашей программы должен содержать только необходимую информацию. Не делайте зависимости методов и классов друг от друга слишком сложными. Будьте ленивыми. Эти рекомендации потребуют некоторого времени на освоение и умение их использовать, но уже к концу этого раздела вы сделаете большой шаг к написанию высококачественного кода.

Здесь много работы, но уделите этому время! Мы начнем с рефакторинга, вспомнив материал предыдущих уроков, а затем перейдем к принципам ООП. Уроки Codecademy перемежаются с их проектами, так что вы получите шанс применить эти знания на практике. Книга "Beginning Ruby" поможет вам глубже понять материал, и вам это пригодится при создании собственных приложений.

### Пункты для размышления

_Постарайтесь ответить на предложенные вопросы. После выполнения задания попробуйте ответить на них ещё раз:_

**Примечание:** Перед вами опять длинный список вопросов, на которые необходимо ответить. Прочитайте их, выполните задания, а затем вернитесь к ним снова.

- Классы и методы:

  - Что такое "implicit return"?
  - Что такое класс?
  - В каких случаях необходимо использовать класс?
  - Как создать класс в коде?
  - Что такое экземпляр класса?
  - Чем различаются стили 'CamelCase' и 'snake_case'?
  - Как создать экземпляр класса?
  - Как установить состояние созданного экземпляра?
  - Что должен содержать метод `#initialize`?
  - Что такое метод класса?
  - Чем отличается метод класса от метода экземпляра класса?
  - Почему уже известные вам методы, вроде `#count` или `#sort` (и подобные) являются методами экземпляра?
  - В чем разница между объявлением метода класса и метода экземпляра?
  - В чем разница между вызовом метода класса и метода экземпляра?
  - Что такое переменная экземпляра?
  - В чем разница между переменной экземпляра и обычной переменной?
  - Для чего нужны методы "getter" и "setter"?
  - В чем их различие?
  - Как сделать переменные экземпляра доступными для чтения за пределами класса? Доступными для записи? Доступными для чтения и записи?
  - Может ли класс вызывать свои собственные методы?
  - В чем разница между использованием переменной класса и константы?
  - В чем различие между классом и модулем?
  - Когда следует использовать класс, но не модуль?
  - Как работает наследование?
  - Почему полезно наследование?
  - Как можно расширить класс? В чем смысл этого?
  - Что делает `#super`? В чем смысл его применения?

- Область видимости:

  - Что такое область видимости?
  - В каких частях кода вы можете использовать переменные?
  - Когда объявляется область видимости?
  - Когда методы видимы?
  - Что такое приватный метод?
  - Что такое защищенный метод?
  - В чем различие приватных и защищенных методов?
  - Что значит термин "encapsulation"?

### Задания:

1. Выполните [разделы 7, 9, и 10 из курса Codecademy Ruby](http://www.codecademy.com/tracks/ruby):

   - [Рефакторинг](http://www.codecademy.com/courses/ruby-beginner-en-1o8Mb?curriculum_id=5059f8619189a5000201fbcb)
   - [Проект: Фабрика рефакторинга](http://www.codecademy.com/courses/ruby-beginner-en-Zjd2y?curriculum_id=5059f8619189a5000201fbcb)
   - [ООП, часть I](http://www.codecademy.com/courses/ruby-beginner-en-MFiQ6?curriculum_id=5059f8619189a5000201fbcb)
   - [Проект: Виртуальный компьютер](http://www.codecademy.com/courses/ruby-beginner-en-X5wcR?curriculum_id=5059f8619189a5000201fbcb)
   - [ООП, часть II](http://www.codecademy.com/courses/ruby-beginner-en-zfe3o?curriculum_id=5059f8619189a5000201fbcb)
   - [Проект: Банкинг в Ruby](http://www.codecademy.com/courses/ruby-beginner-en-32cN3?curriculum_id=5059f8619189a5000201fbcb)

2. Почитайте [Beginning Ruby](https://www.ozon.ru/product/157499740) Глава 5: `Экосистема Ruby` в перерывах между написанием кода, чтобы лучше понять мир Ruby.
3. Прочтите [Beginning Ruby](https://www.ozon.ru/product/157499740) Глава 6: `Классы, объекты и модули`. Это будет хорошим дополнением к курсу Codecademy.
4. Прочтите [Beginning Ruby](https://www.ozon.ru/product/157499740) Глава 7: `Проекты и библиотеки.`
5. Прочтите [Beginning Ruby](https://www.ozon.ru/product/157499740) Глава 8: `Документация и Обработка ошибок`, но пропустите Тестирование (стр. 190-196).
6. Для закрепления материала, ознакомьтесь с постами Эрика Траутмана, они помогут ответить на наши вопросы:

   - [Пояснения по Ruby: Классы](http://www.eriktrautman.com/posts/ruby-explained-classes)
   - [Пояснения по Ruby: Наследование и Области видимости](http://www.eriktrautman.com/posts/ruby-explained-inheritance-and-scope)

7. Прочтите [главу об обработке ошибок](http://ruby.bastardsbook.com/chapters/exception-handling/) для закрепления понимания работы с ошибками.
8. Пробегите взгядом [Руководство по стильному коду на Ruby](https://github.com/arbox/ruby-style-guide/blob/master/README-ruRU.md), и вы поймете как сделать свой код более профессиональным.

### Проверьте себя

1. Проверьте, что вы можете выполнить [эти упражнения](http://www.codequizzes.com/learn-ruby/intro-object-oriented-programming) с сайта [Code Quizzes](http://www.codequizzes.com).
2. Также проверьте свои навыки [здесь](http://www.codequizzes.com/learn-ruby/modules-classes-inheritance).
3. Ответьте на [проверочные вопросы по практическому ООП](http://www.codequizzes.com/ruby/practical-object-oriented-design), с которыми вы глубже поймете принципы ООП. Тут вы ознакомитесь с несколькими новыми концепциями.

### Дополнительные ресурсы

_Этот раздел содержит полезные ссылки на дополнительные материалы. Они не обязательны, так что расценивайте их как нечто полезное, если вы хотите поглубже погрузиться в тему:_

- Если вы хотите знать еще больше о том, как создавать более лаконичные и эффективные классы, закажите книгу [Практический объектно-ориентированный дизайн в Ruby](http://www.amazon.com/Practical-Object-Oriented-Design-Ruby-Addison-Wesley/dp/0321721330) от Sandi Metz.
- [Это видео от Kevin Berridge](http://vimeo.com/91672848) ракрывает основные темы объектно-ориентированного дизайна, во многих местах ссылаясь на книгу Sandi Metz, длительность видео около 40 минут.
- [Zetcode's Variables section](http://zetcode.com/lang/rubytutorial/variables/)
- Теперь вы готовы ознакомиться с [разделом ООП на Zetcode](http://zetcode.com/lang/rubytutorial/oop/).
- Прочтите [второй раздел ООП на Zetcode](http://zetcode.com/lang/rubytutorial/oop2/) до момента, пока речь не пойдет об исключениях.
